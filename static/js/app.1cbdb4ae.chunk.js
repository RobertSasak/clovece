(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{337:function(e,t,r){"use strict";r.r(t);var n,o,i=r(0),c=r.n(i),l=r(435),a=r(455),s=r(257),u=r(2),d={strictMode:"warn"},f=Object(l.extendTheme)({colors:{primary:{50:"#e6f7fd",100:"#c5e5ec",200:"#a3d3dd",300:"#80c2d1",400:"#5eb1c3",500:"#4797aa",600:"#367584",700:"#26545f",800:"#13333a",900:"#001216"}},components:{Icon:{defaultProps:{as:s.MaterialCommunityIcons}}},config:{useSystemColorMode:!1}}),b=function(e){var t=e.children;return Object(u.jsx)(a.NativeBaseProvider,{theme:f,config:d,children:t})},j=r(3),p=r.n(j),y=r(141),O=function(e){var t=e.children,r=Object(i.useState)(!0),n=p()(r,2),o=n[0],c=n[1];return Object(i.useEffect)((function(){y.syncStorage.init().then((function(){c(!1)}))}),[]),Object(u.jsx)(u.Fragment,{children:o?null:t})},h=r(1),x=r.n(h),v=r(204),m=r(452),g=r(445),k=r(222),P=r(437),w=r(438),R=r(454),I=r(196),T=function(e){var t=e.navigation,r=Object(y.useStatePersist)("TYPE","local"),n=p()(r,2),o=n[0],i=n[1],c=Object(y.useStatePersist)("PLAYERS","2"),l=p()(c,2),a=l[0],s=l[1],d=Object(y.useStatePersist)("BOTS",!1),f=p()(d,2),b=f[0],j=f[1];return Object(u.jsx)(k.default,{flex:1,alignItems:"center",justifyContent:"center",alignContent:"stretch",children:Object(u.jsxs)(k.default,{safeArea:!0,bg:"white",borderRadius:{sm:20},maxW:480,w:"100%",minH:{base:"100%",sm:void 0},m:{sm:5},children:[Object(u.jsxs)(P.ScrollView,{p:5,children:[Object(u.jsx)(w.default,{size:"2xl",textAlign:"center",children:"Ludo for geeks"}),Object(u.jsx)(w.default,{size:"lg",my:"3",children:"Game type"}),Object(u.jsxs)(R.Button.Group,{isAttached:!0,children:[Object(u.jsx)(R.Button,{onPress:function(){return i("local")},variant:"local"===o?"solid":"outline",children:"Local"}),Object(u.jsx)(R.Button,{onPress:function(){return i("online")},variant:"online"===o?"solid":"outline",isDisabled:!0,children:"Online*"})]}),Object(u.jsx)(w.default,{size:"lg",my:"3",children:"Number of players"}),Object(u.jsxs)(R.Button.Group,{isAttached:!0,children:[Object(u.jsx)(R.Button,{onPress:function(){return s("2")},variant:"2"===a?"solid":"outline",children:"2"}),Object(u.jsx)(R.Button,{onPress:function(){return s("3")},variant:"3"===a?"solid":"outline",isDisabled:!0,children:"3*"}),Object(u.jsx)(R.Button,{onPress:function(){return s("4")},variant:"4"===a?"solid":"outline",children:"4"})]}),Object(u.jsx)(w.default,{size:"lg",my:"3",children:"Play with bots"}),Object(u.jsxs)(R.Button.Group,{isAttached:!0,children:[Object(u.jsx)(R.Button,{onPress:function(){return j(!0)},variant:b?"solid":"outline",children:"Yes"}),Object(u.jsx)(R.Button,{onPress:function(){return j(!1)},variant:b?"outline":"solid",children:"No"})]}),Object(u.jsx)(I.default,{color:"gray.400",children:"*Stay tuned for future version"})]}),Object(u.jsx)(R.Button,{size:"lg",mx:5,mb:5,onPress:function(){return t.navigate("Tutorial",{players:+a,bot1:!1,bot2:+a>1&&b,bot3:+a>2&&b,bot4:+a>3&&b})},children:"Start game"})]})})},D=r(439),S=r(33),A=r(317),Y=r(440),E=r(421),L=r(122),B=r(436),C=r(16),N=r.n(C);!function(e){e.Red="red",e.Green="green",e.Blue="blue",e.Yellow="yellow"}(n||(n={})),function(e){e.START="start",e.LAP="lap",e.END="end"}(o||(o={}));var G=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.x,i=e.y;return t.split("").map((function(e){var t=o,c=i;if("U"===e)i-=r;else if("D"===e)i+=r;else if("L"===e)o-=r;else if("R"===e)o+=r;else if("\u2198"===e)o+=r,i+=r;else if("\u2196"===e)o-=r,i-=r;else if("\u2199"===e)o-=r,i+=r;else{if("\u2197"!==e)throw new Error('Unknown direction "'+e+'"');o+=r,i-=r}return n?{x:o,y:i}:{x:t,y:c}}))},z=r(10),W=z.default.createAnimatedComponent(C.G),M=z.default.createAnimatedComponent(C.Circle),F=[0,59,60,119,120,179,180,239,240,299,300,360],V=function(e){var t=e.x,r=e.y,n=e.value,o=e.disabled,c=e.onPress,l=Object(i.useRef)(new z.default.Value(n)).current,a=l.interpolate({inputRange:[1,6],outputRange:[0,360]}),s=Object(i.useRef)(new z.default.Value(1)).current,d=a.interpolate({inputRange:F,outputRange:[0,0,0,0,0,0,1,1,1,1,1,1]}),f=a.interpolate({inputRange:F,outputRange:[0,0,0,0,0,0,0,0,0,0,1,1]}),b=a.interpolate({inputRange:F,outputRange:[0,0,1,1,1,1,1,1,1,1,1,1]}),j=a.interpolate({inputRange:F,outputRange:[0,0,1,1,1,1,1,1,1,1,1,1]}),p=a.interpolate({inputRange:F,outputRange:[0,0,0,0,0,0,0,0,0,0,1,1]}),y=a.interpolate({inputRange:F,outputRange:[0,0,0,0,0,0,1,1,1,1,1,1]}),O=a.interpolate({inputRange:F,outputRange:[1,1,0,0,1,1,0,0,1,1,0,0]});Object(i.useEffect)((function(){s.setValue(1),l.stopAnimation(),l.setValue(n)}),[n]),Object(i.useEffect)((function(){o?s.setValue(1):z.default.loop(z.default.sequence([z.default.timing(s,{toValue:1.1,duration:500,useNativeDriver:!1}),z.default.timing(s,{toValue:1,duration:500,useNativeDriver:!1})])).start()}),[o]);var h=Object(i.useCallback)((function(){o?c():z.default.parallel([z.default.sequence([z.default.timing(s,{toValue:1.2,duration:500,useNativeDriver:!1}),z.default.timing(s,{toValue:1,duration:500,useNativeDriver:!1})]),z.default.sequence([z.default.timing(l,{toValue:6,duration:500,useNativeDriver:!1}),z.default.timing(l,{toValue:1,duration:500,useNativeDriver:!1})])]).start((function(){c()}))}),[o]);return Object(u.jsx)(C.G,{x:t,y:r,children:Object(u.jsxs)(W,{scale:s,onPress:h,onClick:h,style:{cursor:"pointer"},children:[Object(u.jsx)(C.Rect,{x:-50,y:-50,width:100,height:100,stroke:"gray",strokeWidth:o?1:2,rx:10,ry:10,fill:"white"}),Object(u.jsx)(M,{fill:"black",cx:-30,cy:-30,r:12,opacity:d}),Object(u.jsx)(M,{fill:"black",cx:0,cy:-30,r:12,opacity:f}),Object(u.jsx)(M,{fill:"black",cx:30,cy:-30,r:12,opacity:b}),Object(u.jsx)(M,{fill:"black",cx:-30,cy:30,r:12,opacity:j}),Object(u.jsx)(M,{fill:"black",cx:0,cy:30,r:12,opacity:p}),Object(u.jsx)(M,{fill:"black",cx:30,cy:30,r:12,opacity:y}),Object(u.jsx)(M,{fill:"black",cx:0,cy:0,r:12,opacity:O})]})})},U=function(e){var t=e.x,r=e.y;return Object(u.jsx)(C.Circle,{cx:t,cy:r,r:30,fill:"white",stroke:"#333",strokeWidth:3})},q=function(e){var t=e.data;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.Path,{d:t.map((function(e,t){return(0===t?"M":"L")+" "+e.x+" "+e.y+" "})).join("")+"Z",stroke:"#333",strokeWidth:"30",fill:"transparent"}),t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(U,{x:r,y:n},t)}))]})},_=r(4),X=r.n(_),H=["data","closed"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var J=function(e){var t=e.data,r=e.closed,n=X()(e,H);return Object(u.jsx)(C.Path,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:t.map((function(e,t){return(0===t?"M":"L")+" "+e.x+" "+e.y+" "})).join("")+(r?"Z":""),fill:"transparent",stroke:"#333",strokeWidth:30},n))},$=function(e){var t=e.data;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{data:t,stroke:"#333",strokeWidth:30}),t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(U,{x:r,y:n},t)}))]})},K=z.default.createAnimatedComponent(C.G),Q=z.default.createAnimatedComponent(C.Circle),ee=function(e){var t=e.x,r=e.y,n=e.size,o=e.color,c=e.disabled,l=e.onPress,a=Object(i.useRef)(new z.default.ValueXY({x:t,y:r})).current,s=Object(i.useRef)(new z.default.Value(0)).current,d=s.interpolate({inputRange:[0,1],outputRange:[0,30]}),f=s.interpolate({inputRange:[0,1],outputRange:[0,-10]});return Object(i.useEffect)((function(){z.default.timing(a,{toValue:{x:t,y:r},duration:400,useNativeDriver:!1}).start()}),[t,r]),Object(i.useEffect)((function(){c?(s.setValue(0),s.stopAnimation()):z.default.loop(z.default.sequence([z.default.timing(s,{toValue:1,duration:500,useNativeDriver:!1}),z.default.timing(s,{toValue:0,duration:500,useNativeDriver:!1})])).start()}),[c]),Object(u.jsxs)(K,{x:a.x,y:a.y,onClick:l,onPress:l,style:{cursor:"pointer"},children:[Object(u.jsx)(C.Circle,{r:40,fill:"transparent"}),Object(u.jsx)(Q,{r:d,fill:o,fillOpacity:.2,strokeWidth:c?2:4,opacity:c?.7:1}),Object(u.jsxs)(K,{y:f,children:[Object(u.jsx)(C.Path,{d:"M10,-20 -10,-20 -15,0 a15,15 0 0,0 30,0 Z",stroke:"black",strokeWidth:c?2:4,opacity:c?.7:1,fill:o}),Object(u.jsx)(C.Circle,{cy:-n,r:14,fill:"white"}),Object(u.jsx)(C.Circle,{cy:-n,r:14,fill:o,stroke:"black",strokeWidth:c?2:4,opacity:c?.7:1})]})]})};function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case n.Red:return t?"#ff8080":"#bf202f";case n.Green:return t?"#29b376":"#006f3c";case n.Blue:return t?"#8080ff":"#274b96";case n.Yellow:return t?"#ffff80":"#faa73e"}}var re,ne=function(e){var t=e.data;return Object(u.jsx)(u.Fragment,{children:t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(U,{x:r,y:n},t)}))})},oe=function(e){var t=e.x,r=e.y,n=e.place,o=void 0===n?1:n;return Object(u.jsxs)(C.G,{x:t,y:r,scale:"0.2",children:[Object(u.jsx)(C.Path,{fill:"#e61c24",d:"M513 233c11-10 16-25 12-40s-15-27-28-31c5-14 3-29-6-42a41 41 0 0 0-40-15 42 42 0 0 0-65-31c-8-12-21-21-37-21-17 0-31 10-38 24a42 42 0 0 0-45-4c-14 8-22 21-23 36-15-2-29 4-39 16a41 41 0 0 0-5 41c-14 5-24 17-28 32-3 15 3 30 14 39a42 42 0 0 0 17 71c-5 13-3 30 7 41 9 12 25 17 39 15 1 15 10 28 24 34 14 7 30 5 42-4 7 13 21 21 37 21 15 0 29-9 35-21 13 8 28 9 42 2s23-20 23-35c15 2 29-3 40-15 9-13 11-28 5-42 14-4 25-16 29-31 3-15-1-30-12-40zM349 374a139 139 0 0 1 0-279 139 139 0 1 1 0 279z"}),Object(u.jsx)(C.Path,{fill:"#fbcc03",strokeWidth:"4",stroke:"black",d:"M474 234a125 125 0 1 1-250 0 125 125 0 0 1 250 0m-39 173c-8 3-16 5-24 5-7 0-13-1-20-4l-7 7-3 2 36 91 41-58 69 19-40-104c-7 5-16 8-24 9-5 14-15 26-28 33zm-123 2c-7 3-14 5-21 5-8 0-15-2-23-5-14-6-24-19-28-33-6 0-12-1-17-4l-37 96 69-18 41 57 34-85c-7-3-13-7-18-13z"}),Object(u.jsx)(C.Text,{x:"300",y:"300",fontSize:"200",fill:"#e61c24",children:o})]})},ie=z.default.createAnimatedComponent(C.Circle),ce=function(e){var t=e.visible,r=Object(i.useRef)(new z.default.Value(130)).current;return Object(i.useEffect)((function(){t&&z.default.loop(z.default.sequence([z.default.timing(r,{toValue:160,duration:300,useNativeDriver:!1}),z.default.timing(r,{toValue:130,duration:300,useNativeDriver:!1})])).start()}),[t]),Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsx)(ie,{fill:"yellow",stroke:"#333",strokeWidth:t?4:0,r:r})})},le=function(){return Object(u.jsx)(C.Rect,{width:175,height:175,x:-87.5,y:-87.5,fill:"#fff242",stroke:"#333",strokeWidth:"4",rx:"30"})};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue={x:-40,y:410},de=G({x:175,y:175},"\u2198U\u2199D",650,!1),fe=G(ue,"RRRRRUUUURRDDDDRRRRDDLLLLDDDDLLUUUULLLLU",90),be=[G({x:130,y:130},"RDLU",90,!1),G({x:780,y:780},"RDLU",90,!1),G({x:780,y:130},"RDLU",90,!1),G({x:130,y:780},"RDLU",90,!1)],je=[39,19,9,29],pe=[G(fe[39],"RRRR",90),G(fe[19],"LLLL",90),G(fe[9],"DDDD",90),G(fe[29],"UUUU",90)],ye=(re={},x()(re,o.LAP,fe),x()(re,o.START,be),x()(re,o.END,pe),re),Oe=function(e){var t=e.die,r=e.dieError,n=e.players,l=e.currentPlayer,a=e.tokens,s=e.onDiePress,d=void 0===s?function(){}:s,f=e.onTokenPress,b=void 0===f?function(){}:f,j=e.onPlayerSelect,p=void 0===j?function(){}:j,y=Object(L.default)(),O=y.width,h=y.height,x=Math.min(O,h),v=Object(B.useToast)();return Object(u.jsx)(k.default,{alignItems:"center",children:Object(u.jsx)(S.default,{w:x-10,h:x-10,children:Object(u.jsxs)(N.a,{height:"100%",width:"100%",viewBox:"0 0 1000 1000",preserveAspectRatio:"xMinYMin slice",children:[Object(u.jsx)(C.Rect,{width:"1000",height:"1000",fill:"#f5d9a1"}),Object(u.jsx)(C.Rect,{x:"10",y:"10",width:"980",height:"980",strokeWidth:"3",stroke:"black",fill:"transparent"}),Object(u.jsx)(C.Rect,{width:"1000",height:"1000",strokeWidth:"10",stroke:"#bb3630",fill:"transparent"}),n.map((function(e,t){return e.id===l&&Object(i.createElement)(C.G,se(se({},de[t]),{},{key:t}),Object(u.jsx)(le,{}))})),n.map((function(e,t){return Object(i.createElement)(C.G,se(se({},de[t]),{},{key:t,onPress:function(){return p(e.id)},onClick:function(){return p(e.id)}}),Object(u.jsx)(ce,{visible:e.selectable}))})),n.map((function(e,t){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(J,{data:[ye.lap[je[t]],ye.end[t][0]]}),Object(u.jsx)(ne,{data:ye.start[t]}),Object(u.jsx)($,{data:ye.end[t]}),e.place&&Object(u.jsx)(C.G,se(se({},de[t]),{},{children:Object(u.jsx)(oe,{x:50,y:0,place:e.place})}))]},t)})),Object(u.jsx)(q,{data:ye.lap}),Object(u.jsx)(V,{x:500,y:500,value:t,disabled:!!r,onPress:function(){r?v.show({title:r}):d()}}),a.map((function(e){var t=e.id,r=e.sector,n=e.fieldId,i=e.playerId,c=e.color,l=e.error,a=r===o.LAP?ye[r][n]:ye[r][+i][n];return Object(u.jsx)(ee,{x:a.x,y:a.y,color:te(c),size:30,disabled:!!l,onPress:function(){l?v.show({title:l}):b(t)}},t)}))]})})})};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve,me=[{state:{die:3,dieError:"This is just a tutorial",currentPlayer:"0",tokens:[],players:[]},text:Object(u.jsx)(u.Fragment,{children:"You may have play this game before under various names. This is a slightly improved version. Once you play it you will never wanted to play the original version again."})},{state:{die:3,dieError:"This is just a tutorial",currentPlayer:"0",tokens:[{id:0,color:n.Red,sector:o.START,fieldId:0,playerId:"0",error:!1},{id:1,color:n.Green,sector:o.START,fieldId:1,playerId:"0",error:!1},{id:2,color:n.Blue,sector:o.START,fieldId:2,playerId:"0",error:!1},{id:3,color:n.Yellow,sector:o.START,fieldId:3,playerId:"0",error:!1}],players:[{id:"0",name:"",place:null,selectable:!1}]},text:Object(u.jsxs)(u.Fragment,{children:["You start with 4 tokens of a"," ",Object(u.jsx)(I.default,{textDecorationLine:"underline",children:"DIFFERENT"})," color."]})},{state:{die:6,dieError:"This is just a tutorial",currentPlayer:"0",tokens:[{id:0,color:n.Red,sector:o.LAP,fieldId:0,playerId:"0",error:"You cannot move tokens in tutorial."},{id:1,color:n.Green,sector:o.START,fieldId:1,playerId:"0",error:"You cannot move tokens in tutorial."},{id:2,color:n.Blue,sector:o.START,fieldId:2,playerId:"0",error:"You cannot move tokens in tutorial."},{id:3,color:n.Yellow,sector:o.START,fieldId:3,playerId:"0",error:"You cannot move tokens in tutorial."}],players:[{id:"0",name:"",place:null,selectable:!1}]},text:Object(u.jsx)(u.Fragment,{children:"Roll 6 to get your first token on track."})},{state:{die:4,dieError:"This is just a tutorial",currentPlayer:"0",tokens:[{id:0,color:n.Red,sector:o.LAP,fieldId:4,playerId:"0",error:"You cannot move tokens in tutorial."},{id:1,color:n.Green,sector:o.START,fieldId:1,playerId:"0",error:"You cannot move tokens in tutorial."},{id:2,color:n.Blue,sector:o.START,fieldId:2,playerId:"0",error:"You cannot move tokens in tutorial."},{id:3,color:n.Yellow,sector:o.START,fieldId:3,playerId:"0",error:"You cannot move tokens in tutorial."}],players:[{id:"0",name:"",place:null,selectable:!1}]},text:Object(u.jsx)(u.Fragment,{children:"Keeping rolling die and move your token along the track accordingly. So far nothing special."})},{state:{die:6,dieError:"This is just a tutorial",currentPlayer:"1",tokens:[{id:0,color:n.Red,sector:o.LAP,fieldId:4,playerId:"0",error:!1},{id:1,color:n.Green,sector:o.START,fieldId:1,playerId:"0",error:"You cannot move tokens in tutorial."},{id:2,color:n.Blue,sector:o.START,fieldId:2,playerId:"0",error:"You cannot move tokens in tutorial."},{id:3,color:n.Yellow,sector:o.START,fieldId:3,playerId:"0",error:"You cannot move tokens in tutorial."},{id:4,color:n.Red,sector:o.LAP,fieldId:20,playerId:"1",error:!1},{id:5,color:n.Green,sector:o.START,fieldId:1,playerId:"1",error:"You cannot move tokens in tutorial."},{id:6,color:n.Blue,sector:o.START,fieldId:2,playerId:"1",error:"You cannot move tokens in tutorial."},{id:7,color:n.Yellow,sector:o.START,fieldId:3,playerId:"1",error:"You cannot move tokens in tutorial."}],players:[{id:"0",name:"",place:null,selectable:!1},{id:"1",name:"",place:null,selectable:!1}]},text:Object(u.jsx)(u.Fragment,{children:"The fun starts once your opponent also rolls 6 and brings a token of the same red color on track."})},{state:{die:5,dieError:"This is just a tutorial",currentPlayer:"1",tokens:[{id:0,color:n.Red,sector:o.LAP,fieldId:9,playerId:"0",error:!1},{id:1,color:n.Green,sector:o.START,fieldId:1,playerId:"0",error:"You cannot move tokens in tutorial."},{id:2,color:n.Blue,sector:o.START,fieldId:2,playerId:"0",error:"You cannot move tokens in tutorial."},{id:3,color:n.Yellow,sector:o.START,fieldId:3,playerId:"0",error:"You cannot move tokens in tutorial."},{id:4,color:n.Red,sector:o.LAP,fieldId:20,playerId:"1",error:!1},{id:5,color:n.Green,sector:o.START,fieldId:1,playerId:"1",error:"You cannot move tokens in tutorial."},{id:6,color:n.Blue,sector:o.START,fieldId:2,playerId:"1",error:"You cannot move tokens in tutorial."},{id:7,color:n.Yellow,sector:o.START,fieldId:3,playerId:"1",error:"You cannot move tokens in tutorial."}],players:[{id:"0",name:"",place:null,selectable:!1},{id:"1",name:"",place:null,selectable:!1}]},text:Object(u.jsx)(u.Fragment,{children:"Your opponent now may choose to move any red token on track. It is wise to move a token that is closest to the finish."})},{state:{die:5,dieError:"This is just a tutorial",currentPlayer:"0",tokens:[{id:0,color:n.Red,sector:o.LAP,fieldId:9,playerId:"0",error:"You cannot move tokens in tutorial."},{id:1,color:n.Green,sector:o.END,fieldId:1,playerId:"0",error:"You cannot move tokens in tutorial."},{id:2,color:n.Blue,sector:o.END,fieldId:2,playerId:"0",error:"You cannot move tokens in tutorial."},{id:3,color:n.Yellow,sector:o.END,fieldId:3,playerId:"0",error:"You cannot move tokens in tutorial."},{id:4,color:n.Red,sector:o.END,fieldId:0,playerId:"0",error:"You cannot move tokens in tutorial."},{id:5,color:n.Green,sector:o.START,fieldId:1,playerId:"1",error:"You cannot move tokens in tutorial."},{id:6,color:n.Blue,sector:o.START,fieldId:2,playerId:"1",error:"You cannot move tokens in tutorial."},{id:7,color:n.Yellow,sector:o.START,fieldId:3,playerId:"1",error:"You cannot move tokens in tutorial."}],players:[{id:"0",name:"",place:1,selectable:!1},{id:"1",name:"",place:null,selectable:!1}]},text:Object(u.jsxs)(u.Fragment,{children:["Wins the player who managed to bring 4 tokens of"," ",Object(u.jsx)(I.default,{textDecorationLine:"underline",children:"different"})," color to finish."]})}],ge=function(e){var t=e.navigation,r=e.route,n=Object(i.useState)(0),o=p()(n,2),c=o[0],l=o[1],a=Object(i.useCallback)((function(){c<me.length-1?l(c+1):t.navigate("Play",xe({},r.params))}),[c]),s=Object(i.useCallback)((function(){l(c-1)}),[c]);return Object(u.jsxs)(D.default,{flex:1,justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(Oe,xe({},me[c].state)),Object(u.jsxs)(S.default,{bg:"white",borderRadius:5,shadow:5,w:"60%",position:"absolute",bottom:"20px",left:"20px",children:[Object(u.jsxs)(A.default,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(u.jsx)(w.default,{p:"5",size:"md",children:"How to play?"}),Object(u.jsx)(Y.default,{icon:Object(u.jsx)(E.default,{name:"close"}),onPress:function(){return t.navigate("Play",xe({},r.params))}})]}),Object(u.jsx)(I.default,{mx:"5",children:me[c].text}),Object(u.jsxs)(A.default,{flexDir:"row-reverse",justifyContent:"space-between",m:"5",children:[Object(u.jsx)(R.Button,{rightIcon:Object(u.jsx)(E.default,{name:"arrow-right"}),onPress:a,children:c===me.length-1?"Let's play":"Next"}),c>0&&Object(u.jsx)(R.Button,{variant:"outline",leftIcon:Object(u.jsx)(E.default,{name:"arrow-left"}),onPress:s,children:"Previous"})]})]})]})},ke=r(453),Pe=r(209),we=r(9),Re=[0,20,10,30],Ie=[39,19,9,29],Te=function(e,t,r){var n=e.tokens[r];if(t.gameover)return"The game is over.";if(null!==e.kicked)return"Select which player gets kicked out token before continue.";if(!n)throw new Error("id is undefined");if(6!==e.moves&&n.sector===o.START)return"Throw 6 on dice in order to take token from staring zone.";if(n.sector===o.START&&n.playerId!==t.currentPlayer)return"You can only select token from your own starting zone.";if(n.sector===o.END&&n.playerId!==t.currentPlayer)return"You can only move tokens in own endzone.";if(0===e.moves)return"Throw the die first to determine how many steps you can move.";if(n.sector!==o.START&&e.players[t.currentPlayer].start[n.color])return"You need to bring ${token.color} token from staring zone to game so that you can move with any ${token.color} tokens.";if(n.sector===o.LAP&&e.players[t.currentPlayer].end[n.color])return"You cannot move this token. Token of this color is already in your endzone.";if(n.sector===o.END&&n.fieldId+e.moves>3)return"You cannot move this token. There is not enough squares to move.";if(n.sector===o.END&&e.players[t.currentPlayer].finish[n.fieldId+e.moves])return"You cannot move this token. You would land on your own token in the finish.";if(n.sector===o.LAP){for(var i=e.moves,c=n.fieldId,l=Ie[+t.currentPlayer];i>0&&c!==l&&(i--,++c!==l););if(i>0){if(i>4)return"You cannot move this token. You would land behind finish.";if(e.players[t.currentPlayer].finish[i-1])return"You cannot move this token. You would land on your own token in the finish."}}return!1},De=function(e,t){return 0!==e.moves?"Finish your move before before rolling die.":null!==e.kicked?"Select which player gets kicked out token before rolling die again.":!!t.gameover&&"The game is over."},Se=(ve={},x()(ve,n.Red,0),x()(ve,n.Green,1),x()(ve,n.Blue,2),x()(ve,n.Yellow,3),ve),Ae=function(e,t,r){if(void 0===r)throw new Error("PlayerId is undefined");if(null===e.kicked)return"Nothing to select. Token need to be kicked out first.";var n=e.tokens[e.kicked];return e.players[r].start[n.color]?"Player "+r+" already has token of "+n.color+" color in their start.":!!e.players[r].end[n.color]&&"Player "+r+" already has token of "+n.color+" color in their finish."},Ye=function(e,t){var r=[];De(e,t)||r.push({move:"roll",args:[]});for(var n=0;n<e.tokens.length;n++)Te(e,t,n)||r.push({move:"move",args:[n]});return t.playOrder.forEach((function(t){Ae(e,0,t)||r.push({move:"select",args:[t]})})),r},Ee=r(11),Le=r.n(Ee);function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne={name:"ludo",minPlayers:2,maxPlayers:4,setup:function(e){var t=e.playOrder.reduce((function(e,t,r){return[].concat(Le()(e),[{id:4*r,color:n.Red,playerId:t,sector:o.START,fieldId:0},{id:4*r+1,color:n.Green,playerId:t,sector:o.START,fieldId:1},{id:4*r+2,color:n.Blue,playerId:t,sector:o.START,fieldId:2},{id:4*r+3,color:n.Yellow,playerId:t,sector:o.START,fieldId:3}])}),[]),r=e.playOrder.reduce((function(e,t){return Ce(Ce({},e),{},x()({},t,{name:"",start:{red:!0,green:!0,blue:!0,yellow:!0},end:{red:!1,green:!1,blue:!1,yellow:!1},finish:[!1,!1,!1,!1],finished:0,place:null}))}),{});return{size:40,tokens:t,squares:new Array(40).fill(null),kicked:null,die:6,moves:0,players:r,finished:0}},moves:{roll:function(e,t){if(De(e,t))return we.n;if(!t.random)throw new Error("Random is undefined");var r;(e.die=t.random.D6(),e.moves=e.die,0==Ye(e,t).length)&&(e.moves=0,null==(r=t.events)||r.endTurn())},move:function(e,t,r){if(Te(e,t,r))return we.n;var n,i=e.tokens[r];if(i.sector===o.START){i.sector=o.LAP;var c=Re[t.playOrderPos];null!==e.squares[c]&&(e.kicked=e.squares[c]),e.moves=0,e.squares[c]=r,e.players[t.currentPlayer].start[i.color]=!1,i.fieldId=c}else if(i.sector===o.END)e.players[t.currentPlayer].finish[i.fieldId]=!1,i.fieldId+=e.moves,e.players[t.currentPlayer].finish[i.fieldId]=!0;else{var l=Ie[+t.currentPlayer];e.squares[i.fieldId]=null;for(var a=i.fieldId;e.moves>0&&a!==l&&(e.moves--,(a=(a+1)%e.size)!==l););e.moves>0?(i.sector=o.END,i.fieldId=e.moves-1,i.playerId=t.currentPlayer,e.players[t.currentPlayer].finish[i.fieldId]=!0,e.players[t.currentPlayer].end[i.color]=!0,e.players[t.currentPlayer].finished++,4===e.players[t.currentPlayer].finished&&(e.finished++,e.players[t.currentPlayer].place=e.finished)):(i.fieldId=a,null!==e.squares[a]&&(e.kicked=e.squares[a]),e.squares[a]=i.id)}(e.moves=0,6!==e.die&&null===e.kicked)&&(null==(n=t.events)||n.endTurn())},select:function(e,t,r){if(Ae(e,0,r))return we.n;if(null===e.kicked)return we.n;var n,i=e.tokens[e.kicked];(i.sector=o.START,i.playerId=r,i.fieldId=Se[i.color],e.players[r].start[i.color]=!0,e.kicked=null,6!==e.die)&&(null==(n=t.events)||n.endTurn())}},endIf:function(e,t){for(var r=0;r<t.playOrder.length;r++)if(4===e.players[t.playOrder[r]].finished)return{winner:t.playOrder[r]}},ai:{enumerate:Ye}},Ge=2,ze=4,We=12,Me=[0,6],Fe=9;function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case n.Red:return t?"#ff8080":"#bf202f";case n.Green:return t?"#29b376":"#006f3c";case n.Blue:return t?"#8080ff":"#274b96";case n.Yellow:return t?"#ffff80":"#faa73e"}}var Ue,qe=function(e){return Object(u.jsxs)(C.G,{children:[Object(u.jsx)(C.Rect,{x:e.x-e.width/2,y:e.y,width:e.width,height:e.height,stroke:"black",strokeWidth:"2",fill:e.color}),Object(u.jsx)(C.Text,{x:e.x,y:e.y+40,textAnchor:"middle",stroke:"black",fill:"black",fontSize:"40",children:e.title})]})},_e=function(e){for(var t=Le()(Array(Ge).keys()),r=p()(t,2),n=r[0],i=r[1],c=[{posX:260,color:Ve(e.players[n].color)},{posX:740,color:Ve(e.players[i].color)}],l={start:[[{x:95,y:150,color:"white"},{x:205,y:150,color:"white"},{x:315,y:150,color:"white"},{x:425,y:150,color:"white"}],[{x:575,y:150,color:"white"},{x:685,y:150,color:"white"},{x:795,y:150,color:"white"},{x:905,y:150,color:"white"}]],end:t.map((function(t){return new Array(ze).fill(null).map((function(){return{x:320,y:400,color:Ve(e.players[t].color)}}))})),board:new Array(We).fill(null).map((function(){return{x:320,y:400,color:"white"}}))},a=0;a<ze;a++)l.end[n][a].x-=120,l.end[n][a].y+=120*(3-a),l.end[i][a].x+=480,l.end[i][a].y+=120*a;t.map((function(t){l.board[Me[t]].color=Ve(e.players[t].color,!0)}));for(var s=1;s<4;s++)l.board[s].x+=120*s,l.board[s+3].x+=360,l.board[s+3].y+=120*s,l.board[s+6].x+=120*(3-s),l.board[s+6].y+=360,l.board[(s+9)%We].y+=120*(3-s);var d=function(e,t){return e.map((function(e,r){return Object(u.jsx)(Xe,{id:t+"-"+r,x:e.x,y:e.y,color:e.color,size:80},r)}))};return Object(u.jsxs)(N.a,{height:"100%",width:"100%",viewBox:"0 0 1000 1000",children:[Object(u.jsx)(C.Rect,{x:10,y:10,width:980,height:980,stroke:"gray",strokeWidth:20,fill:"white"}),t.map((function(t){return Object(u.jsx)(qe,{x:c[t].posX,y:50,color:c[t].color,width:440,height:160,title:e.players[t].name},t)})),Object(u.jsx)(C.Rect,{x:320,y:400,width:360,height:360,stroke:"black",strokeWidth:"2",fill:"transparent"}),t.map((function(e){var t=(Me[e]+Fe)%We;return Object(u.jsx)(C.Line,{x1:l.board[t].x,y1:l.board[t].y,x2:l.end[e][0].x,y2:l.end[e][0].y,stroke:"black",strokeWidth:"2"},e)})),[t.flatMap((function(e){return[d(l[o.START][e],"start-"+e),d(l[o.END][e],"end-"+e)]})),d(l[o.LAP],"fields")],e.tokens.map((function(t){var r=t.id,n=t.sector,i=t.fieldId,c=t.playerId,a=t.color,s=t.disabled,d=n===o.LAP?l[n][i]:l[n][+c][i];return Object(u.jsx)(He,{id:"token-"+r,x:d.x,y:d.y,color:Ve(a),size:40,disabled:s,onPress:function(){return e.onTokenPress(r)}},r)})),Object(u.jsx)(C.G,{x:400,y:470,children:Object(u.jsx)(V,{value:e.die,disabled:e.dieDisabled,onPress:e.onDiePress})})]})},Xe=function(e){return Object(u.jsx)(C.Circle,{id:e.id,cx:e.x,cy:e.y,r:e.size/2,stroke:"black",strokeWidth:"2",fill:e.color})},He=function(e){var t=e.id,r=e.x,n=e.y,o=e.size,i=e.color,c=e.disabled,l=e.onPress;return Object(u.jsx)(C.Rect,{id:t,x:r-o/2,y:n-o/2,width:o,height:o,stroke:"black",strokeWidth:"2",opacity:c?.5:1,fill:i,onClick:l,onPress:l})};!function(e){e[e.SMALL_BOARD_FOR_TWO=0]="SMALL_BOARD_FOR_TWO",e[e.CLASSIC=1]="CLASSIC"}(Ue||(Ue={}));var Ze=["boardType"];function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ke=function(e){var t=e.boardType,r=X()(e,Ze);switch(t){case Ue.SMALL_BOARD_FOR_TWO:return Object(u.jsx)(_e,$e({},r));case Ue.CLASSIC:return Object(u.jsx)(Oe,$e({},r));default:return console.warn("No such board!"),null}};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt=function(e){var t=e.G,r=e.ctx,n=e.moves,o=r.playOrder.map((function(e){return{id:e,name:e,place:t.players[e].place,selectable:!Ae(t,0,e)}})),i=n.move,c=n.roll,l=n.select,a=Ue.CLASSIC,s=t.tokens.map((function(e){return et(et({},e),{},{error:Te(t,r,e.id)})}));return Object(u.jsx)(Ke,{boardType:a,players:o,currentPlayer:r.currentPlayer,die:t.die,onTokenPress:i,onDiePress:c,dieError:De(t,r),tokens:s,onPlayerSelect:l})},rt=r(343),nt=r(321),ot="web"===r(6).default.OS?rt.Client:nt.Client,it=r(26),ct=r.n(it),lt=r(25),at=r.n(lt),st=r(34),ut=r.n(st),dt=r(35),ft=r.n(dt),bt=r(20),jt=r.n(bt);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jt()(e);if(t){var o=jt()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ft()(this,r)}}var ht=function(e){ut()(r,e);var t=Ot(r);function r(e){at()(this,r);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.call.apply(t,[this,yt(yt({},e),{},{objectives:function(e,t,r){return{finished1:{checker:function(e,t){return 1===e.players[r].finished},weight:10},finished2:{checker:function(e,t){return 2===e.players[r].finished},weight:20},finished3:{checker:function(e,t){return 3===e.players[r].finished},weight:30},kickPlayer:{checker:function(e,t){return null!==e.kicked},weight:1}}},iterations:1,playoutDepth:1})].concat(o))}return ct()(r)}(r(93).M);function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt=function(e){var t=e.players,r=e.bot1,n=e.bot2,o=e.bot3,c=e.bot4,l=r||n||o||c,a=Object(i.useMemo)((function(){var e=vt(vt(vt(vt({},r&&{0:ht}),n&&{1:ht}),o&&{2:ht}),c&&{3:ht}),i=l?Object(Pe.L)({bots:e}):void 0;return ot({game:Ne,board:tt,debug:{collapseOnLoad:!0,hideToggleButton:!0},numPlayers:t,multiplayer:i})}),[t,r,n,o,c]);return Object(u.jsx)(a,{playerID:l?"0":void 0})},gt=function(e){var t=e.navigation,r=e.route.params,n=r.players,o=r.bot1,c=r.bot2,l=r.bot3,a=r.bot4,s=Object(i.useState)(!1),d=p()(s,2),f=d[0],b=d[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ke.Modal,{isOpen:f,onClose:function(){return b(!1)},children:Object(u.jsxs)(ke.Modal.Content,{maxWidth:"400px",children:[Object(u.jsx)(ke.Modal.CloseButton,{}),Object(u.jsx)(ke.Modal.Header,{children:"Do you want to quit the game?"}),Object(u.jsx)(ke.Modal.Footer,{borderWidth:"0",children:Object(u.jsxs)(R.Button.Group,{space:2,children:[Object(u.jsx)(R.Button,{variant:"ghost",colorScheme:"blueGray",onPress:function(){return b(!1)},children:"No"}),Object(u.jsx)(R.Button,{colorScheme:"error",onPress:function(){return t.navigate("Settings")},children:"Yes"})]})})]})}),Object(u.jsxs)(S.default,{safeArea:!0,flex:1,justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(mt,{players:n,bot1:o,bot2:c,bot3:l,bot4:a}),Object(u.jsx)(S.default,{safeAreaTop:!0,safeAreaRight:!0,position:"absolute",top:"0",right:"0",children:Object(u.jsx)(Y.default,{color:"black",size:"lg",_icon:{name:"close"},onPress:function(){return b(!0)}})})]})]})};function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wt=Object(g.default)(),Rt=Pt(Pt({},v.default),{},{colors:Pt(Pt({},v.default.colors),{},{background:"#bae6fd"})}),It=function(){return Object(u.jsx)(m.default,{theme:Rt,children:Object(u.jsxs)(wt.Navigator,{screenOptions:{headerShown:!1},children:[Object(u.jsx)(wt.Screen,{name:"Settings",component:T}),Object(u.jsx)(wt.Screen,{name:"Tutorial",component:ge}),Object(u.jsx)(wt.Screen,{name:"Play",component:gt})]})})};t.default=function(){return Object(u.jsx)(b,{children:Object(u.jsx)(O,{children:Object(u.jsx)(It,{})})})}},350:function(e,t,r){e.exports=r(416)}},[[350,1,2]]]);
//# sourceMappingURL=app.1cbdb4ae.chunk.js.map