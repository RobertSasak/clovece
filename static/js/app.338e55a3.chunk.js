(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{265:function(e,t,r){"use strict";var n,o,i=r(0),c=r.n(i),a=r(343),s=r(354),l=r(266),u=r(3),d={strictMode:"warn"},f=Object(a.a)({colors:{primary:{50:"#e6f7fd",100:"#c5e5ec",200:"#a3d3dd",300:"#80c2d1",400:"#5eb1c3",500:"#4797aa",600:"#367584",700:"#26545f",800:"#13333a",900:"#001216"}},components:{Icon:{defaultProps:{as:l.a}}},config:{useSystemColorMode:!1}}),b=function(e){var t=e.children;return Object(u.jsx)(s.a,{theme:f,config:d,children:t})},j=r(2),y=r.n(j),p=r(56),O=function(e){var t=e.children,r=Object(i.useState)(!0),n=y()(r,2),o=n[0],c=n[1];return Object(i.useEffect)((function(){p.a.init().then((function(){c(!1)}))}),[]),Object(u.jsx)(u.Fragment,{children:o?null:t})},h=r(348),x=r(349),v=r(199),g=r(346),m=r(347),k=r(351),P=r(173),w=r(357),R=r(255),D=r(355),A=r(350),S=function(e){var t=e.visible,r=void 0===t||t,n=e.value,o=e.placeholder,i=e.onChange,c=e.bot,a=e.setBot;return Object(u.jsx)(w.a,{visible:r,initial:{opacity:0},animate:{opacity:1,transition:{duration:250}},children:Object(u.jsxs)(R.a,{alignItems:"center",children:[Object(u.jsx)(D.a,{placeholder:o,flex:1,value:n,onChangeText:i}),Object(u.jsxs)(A.a,{value:"bot",isChecked:c,onChange:a,m:"3",children:["Bot",c]})]})})},T=function(e){var t=e.navigation,r=Object(p.b)("TYPE","local"),n=y()(r,2),o=n[0],i=n[1],c=Object(p.b)("PLAYERS","2"),a=y()(c,2),s=a[0],l=a[1],d=Object(p.b)("THEME","classic"),f=y()(d,2),b=f[0],j=f[1],O=Object(p.b)("PLAYER1",""),h=y()(O,2),x=h[0],w=h[1],R=Object(p.b)("PLAYER2",""),D=y()(R,2),A=D[0],T=D[1],L=Object(p.b)("PLAYER3",""),E=y()(L,2),I=E[0],C=E[1],B=Object(p.b)("PLAYER4",""),Y=y()(B,2),z=Y[0],W=Y[1],N=Object(p.b)("BOT1",!1),U=y()(N,2),G=U[0],M=U[1],V=Object(p.b)("BOT2",!0),q=y()(V,2),_=q[0],F=q[1],X=Object(p.b)("BOT3",!0),Z=y()(X,2),J=Z[0],$=Z[1],H=Object(p.b)("BOT4",!0),K=y()(H,2),Q=K[0],ee=K[1];return Object(u.jsx)(v.a,{flex:1,bg:"lightBlue.200",alignItems:"center",justifyContent:"center",alignContent:"stretch",children:Object(u.jsxs)(v.a,{safeArea:!0,bg:"white",flex:1,borderRadius:{sm:20},maxW:480,w:"100%",m:{sm:5},children:[Object(u.jsxs)(g.a,{h:"100px",p:5,children:[Object(u.jsx)(m.a,{size:"4xl",textAlign:"center",children:"Clovece"}),Object(u.jsx)(m.a,{size:"lg",my:"3",children:"Game type"}),Object(u.jsxs)(k.a.Group,{isAttached:!0,children:[Object(u.jsx)(k.a,{onPress:function(){return i("local")},variant:"local"===o?"solid":"outline",children:"Local"}),Object(u.jsx)(k.a,{onPress:function(){return i("online")},variant:"online"===o?"solid":"outline",isDisabled:!0,children:"Online*"})]}),Object(u.jsx)(m.a,{size:"lg",my:"3",children:"Number of players"}),Object(u.jsxs)(k.a.Group,{isAttached:!0,children:[Object(u.jsx)(k.a,{onPress:function(){return l("2")},variant:"2"===s?"solid":"outline",children:"2"}),Object(u.jsx)(k.a,{onPress:function(){return l("3")},variant:"3"===s?"solid":"outline",isDisabled:!0,children:"3*"}),Object(u.jsx)(k.a,{onPress:function(){return l("4")},variant:"4"===s?"solid":"outline",children:"4"})]}),Object(u.jsx)(m.a,{size:"lg",my:"3",children:"Theme"}),Object(u.jsxs)(k.a.Group,{isAttached:!0,children:[Object(u.jsx)(k.a,{onPress:function(){return j("classic")},variant:"classic"===b?"solid":"outline",children:"Classic"}),Object(u.jsx)(k.a,{onPress:function(){return j("modern")},variant:"modern"===b?"solid":"outline",isDisabled:!0,children:"Modern*"})]}),Object(u.jsx)(m.a,{size:"lg",my:"3",children:"Players"}),Object(u.jsx)(S,{value:x,placeholder:"Player 1",onChange:w,bot:G,setBot:M}),Object(u.jsx)(S,{visible:+s>=2,value:A,placeholder:"Player 2",onChange:T,bot:_,setBot:F}),Object(u.jsx)(S,{visible:+s>=3,value:I,placeholder:"Player 3",onChange:C,bot:J,setBot:$}),Object(u.jsx)(S,{visible:+s>=4,value:z,placeholder:"Player 4",onChange:W,bot:Q,setBot:ee}),Object(u.jsx)(P.a,{color:"gray.400",children:"*Stay tuned for future version"})]}),Object(u.jsx)(k.a,{size:"lg",mx:5,mb:5,onPress:function(){return t.navigate("Play",{players:+s,bot1:G,bot2:+s>1&&_,bot3:+s>2&&J,bot4:+s>3&&Q})},children:"Start game"})]})})},L=r(39),E=r(352),I=r(1),C=r.n(I),B=r(188),Y=r(8);!function(e){e.Red="red",e.Green="green",e.Blue="blue",e.Yellow="yellow"}(n||(n={})),function(e){e.START="start",e.LAP="lap",e.END="end"}(o||(o={}));var z,W=[0,20,10,30],N=[39,19,9,29],U=function(e,t,r){var n=e.tokens[r];if(null!==e.kicked)return"Select which player gets kicked out token before continue.";if(!n)throw new Error("id is undefined");if(6!==e.moves&&n.sector===o.START)return"Throw 6 on dice in order to take token from staring zone.";if(n.sector===o.START&&n.playerId!==t.currentPlayer)return"You can only select token from your own starting zone.";if(n.sector===o.END&&n.playerId!==t.currentPlayer)return"You can only move tokens in own endzone.";if(0===e.moves)return"Throw the die first to determine how many steps you can move.";if(n.sector!==o.START&&e.players[t.currentPlayer].start[n.color])return"You need to bring ${token.color} token from staring zone to game so that you can move with any ${token.color} tokens.";if(n.sector===o.LAP&&e.players[t.currentPlayer].end[n.color])return"You cannot move this token. Token of this color is already in your endzone.";if(n.sector===o.END&&n.fieldId+e.moves>3)return"You cannot move this token. There is not enough squares to move.";if(n.sector===o.END&&e.players[t.currentPlayer].finish[n.fieldId+e.moves])return"You cannot move this token. You would land on your own token in the finish.";if(n.sector===o.LAP){for(var i=e.moves,c=n.fieldId,a=N[+t.currentPlayer];i>0&&(i--,++c!==a););if(i>0){if(i>4)return"You cannot move this token. You would land behind finish.";if(e.players[t.currentPlayer].finish[i-1])return"You cannot move this token. You would land on your own token in the finish."}}return!1},G=function(e,t){return 0!==e.moves?"Finish your move before before rolling die.":null!==e.kicked&&"Select which player gets kicked out token before rolling die again."},M=(z={},C()(z,n.Red,0),C()(z,n.Green,1),C()(z,n.Blue,2),C()(z,n.Yellow,3),z),V=function(e,t,r){if(void 0===r)throw new Error("PlayerId is undefined");if(null===e.kicked)return"Nothing to select. Token need to be kicked out first.";var n=e.tokens[e.kicked];return e.players[r].start[n.color]?"Player "+r+" already has token of "+n.color+" color in their start.":!!e.players[r].end[n.color]&&"Player "+r+" already has token of "+n.color+" color in their finish."},q=function(e,t){var r=[];G(e)||r.push({move:"roll",args:[]});for(var n=0;n<e.tokens.length;n++)U(e,t,n)||r.push({move:"move",args:[n]});return t.playOrder.forEach((function(t){V(e,0,t)||r.push({move:"select",args:[t]})})),r},_=r(11),F=r.n(_);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J={name:"Clovece",seed:0,minPlayers:2,maxPlayers:4,setup:function(e){var t=e.playOrder.reduce((function(e,t,r){return[].concat(F()(e),[{id:4*r,color:n.Red,playerId:t,sector:o.START,fieldId:0},{id:4*r+1,color:n.Green,playerId:t,sector:o.START,fieldId:1},{id:4*r+2,color:n.Blue,playerId:t,sector:o.START,fieldId:2},{id:4*r+3,color:n.Yellow,playerId:t,sector:o.START,fieldId:3}])}),[]),r=e.playOrder.reduce((function(e,t){return Z(Z({},e),{},C()({},t,{name:"",start:{red:!0,green:!0,blue:!0,yellow:!0},end:{red:!1,green:!1,blue:!1,yellow:!1},finish:[!1,!1,!1,!1],finished:0}))}),{});return{size:40,tokens:t,squares:new Array(40).fill(null),kicked:null,die:null,moves:0,players:r}},moves:{roll:function(e,t){if(G(e))return Y.A;if(!t.random)throw new Error("Random is undefined");var r;(e.die=t.random.D6(),e.moves=e.die,0==q(e,t).length)&&(e.moves=0,null==(r=t.events)||r.endTurn())},move:function(e,t,r){if(U(e,t,r))return Y.A;var n,i=e.tokens[r];if(i.sector===o.START){i.sector=o.LAP;var c=W[t.playOrderPos];null!==e.squares[c]&&(e.kicked=e.squares[c]),e.moves=0,e.squares[c]=r,e.players[t.currentPlayer].start[i.color]=!1,i.fieldId=c}else if(i.sector===o.END)e.players[t.currentPlayer].finish[i.fieldId]=!1,i.fieldId+=e.moves,e.players[t.currentPlayer].finish[i.fieldId]=!0;else{var a=N[+t.currentPlayer];e.squares[i.fieldId]=null;for(var s=i.fieldId;e.moves>0&&(e.moves--,(s=(s+1)%e.size)!==a););e.moves>0?(i.sector=o.END,i.fieldId=e.moves-1,i.playerId=t.currentPlayer,e.players[t.currentPlayer].finish[i.fieldId]=!0,e.players[t.currentPlayer].end[i.color]=!0,e.players[t.currentPlayer].finished++):(i.fieldId=s,null!==e.squares[s]&&(e.kicked=e.squares[s]),e.squares[s]=i.id)}(e.moves=0,6!==e.die)&&(null==(n=t.events)||n.endTurn())},select:function(e,t,r){if(V(e,0,r))return Y.A;if(null===e.kicked)return Y.A;var n,i=e.tokens[e.kicked];(i.sector=o.START,i.playerId=r,i.fieldId=M[i.color],e.players[r].start[i.color]=!0,e.kicked=null,6!==e.die)&&(null==(n=t.events)||n.endTurn())}},endIf:function(e,t){for(var r=0;r<t.playOrder.length;r++)if(4===e.players[t.playOrder[r]].finished)return{winner:t.playOrder[r]}},ai:{enumerate:q}},$=r(7),H=r.n($),K=r(111),Q=r(353),ee=r(18),te=r.n(ee),re=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.x,i=e.y;return t.split("").map((function(e){var t=o,c=i;if("U"===e)i-=r;else if("D"===e)i+=r;else if("L"===e)o-=r;else if("R"===e)o+=r;else if("\u2198"===e)o+=r,i+=r;else if("\u2196"===e)o-=r,i-=r;else if("\u2199"===e)o-=r,i+=r;else{if("\u2197"!==e)throw new Error('Unknown direction "'+e+'"');o+=r,i-=r}return n?{x:o,y:i}:{x:t,y:c}}))},ne=r(10),oe=ne.a.createAnimatedComponent(ee.G),ie=ne.a.createAnimatedComponent(ee.Circle),ce=[0,59,60,119,120,179,180,239,240,299,300,360],ae=function(e){var t=e.x,r=e.y,n=e.size,o=e.value,c=e.disabled,a=e.onPress,s=Object(i.useRef)(new ne.a.Value(o)).current,l=s.interpolate({inputRange:[1,6],outputRange:[0,360]}),d=Object(i.useRef)(new ne.a.Value(n/200)).current,f=l.interpolate({inputRange:ce,outputRange:[0,0,0,0,0,0,1,1,1,1,1,1]}),b=l.interpolate({inputRange:ce,outputRange:[0,0,0,0,0,0,0,0,0,0,1,1]}),j=l.interpolate({inputRange:ce,outputRange:[0,0,1,1,1,1,1,1,1,1,1,1]}),y=l.interpolate({inputRange:ce,outputRange:[0,0,1,1,1,1,1,1,1,1,1,1]}),p=l.interpolate({inputRange:ce,outputRange:[0,0,0,0,0,0,0,0,0,0,1,1]}),O=l.interpolate({inputRange:ce,outputRange:[0,0,0,0,0,0,1,1,1,1,1,1]}),h=l.interpolate({inputRange:ce,outputRange:[1,1,0,0,1,1,0,0,1,1,0,0]});Object(i.useEffect)((function(){s.setValue(o)}),[c,o]);var x=Object(i.useCallback)((function(){c?a():ne.a.parallel([ne.a.sequence([ne.a.timing(d,{toValue:n/200*1.2,duration:500,useNativeDriver:!1}),ne.a.timing(d,{toValue:n/200,duration:500,useNativeDriver:!1})]),ne.a.sequence([ne.a.timing(s,{toValue:6,duration:500,useNativeDriver:!0}),ne.a.timing(s,{toValue:1,duration:500,useNativeDriver:!0})])]).start((function(){a()}))}),[c]);return Object(u.jsx)(ee.G,{x:t,y:r,children:Object(u.jsxs)(oe,{scale:d,onPress:x,onClick:x,children:[Object(u.jsx)(ee.Rect,{x:-100,y:-100,width:200,height:200,stroke:"gray",strokeWidth:1,rx:20,ry:20,fill:"white"}),Object(u.jsx)(ie,{fill:"black",cx:-60,cy:-60,r:25,opacity:f}),Object(u.jsx)(ie,{fill:"black",cx:0,cy:-60,r:25,opacity:b}),Object(u.jsx)(ie,{fill:"black",cx:60,cy:-60,r:25,opacity:j}),Object(u.jsx)(ie,{fill:"black",cx:-60,cy:60,r:25,opacity:y}),Object(u.jsx)(ie,{fill:"black",cx:0,cy:60,r:25,opacity:p}),Object(u.jsx)(ie,{fill:"black",cx:60,cy:60,r:25,opacity:O}),Object(u.jsx)(ie,{fill:"black",cx:0,cy:0,r:25,opacity:h})]})})},se=function(e){var t=e.x,r=e.y;return Object(u.jsx)(ee.Circle,{cx:t,cy:r,r:30,fill:"white",stroke:"#333",strokeWidth:3})},le=function(e){var t=e.data;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee.Path,{d:t.map((function(e,t){return(0===t?"M":"L")+" "+e.x+" "+e.y+" "})).join("")+"Z",stroke:"#333",strokeWidth:"30",fill:"transparent"}),t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(se,{x:r,y:n},t)}))]})},ue=["data","closed"];function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var fe=function(e){var t=e.data,r=e.closed,n=H()(e,ue);return Object(u.jsx)(ee.Path,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:t.map((function(e,t){return(0===t?"M":"L")+" "+e.x+" "+e.y+" "})).join("")+(r?"Z":""),fill:"transparent",stroke:"#333",strokeWidth:30},n))},be=function(e){var t=e.data;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(fe,{data:t,stroke:"#333",strokeWidth:30}),t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(se,{x:r,y:n},t)}))]})},je=ne.a.createAnimatedComponent(ee.G),ye=ne.a.createAnimatedComponent(ee.Circle),pe=function(e){var t=e.x,r=e.y,n=e.size,o=e.color,c=e.disabled,a=e.onPress,s=Object(i.useRef)(new ne.a.ValueXY({x:t,y:r})).current,l=Object(i.useRef)(new ne.a.Value(0)).current,d=l.interpolate({inputRange:[0,1],outputRange:[0,30]}),f=l.interpolate({inputRange:[0,1],outputRange:[0,-10]});return Object(i.useEffect)((function(){ne.a.timing(s,{toValue:{x:t,y:r},duration:400,useNativeDriver:!1}).start()}),[t,r]),Object(i.useEffect)((function(){c?(l.setValue(0),l.stopAnimation()):ne.a.loop(ne.a.sequence([ne.a.timing(l,{toValue:1,duration:500,useNativeDriver:!1}),ne.a.timing(l,{toValue:0,duration:500,useNativeDriver:!1})])).start()}),[c]),Object(u.jsxs)(je,{x:s.x,y:s.y,onClick:a,onPress:a,children:[Object(u.jsx)(ye,{r:d,fill:o,fillOpacity:.2,strokeWidth:c?2:4,opacity:c?.7:1}),Object(u.jsxs)(je,{y:f,children:[Object(u.jsx)(ee.Path,{d:"M10,-20 -10,-20 -15,0 a15,15 0 0,0 30,0 Z",stroke:"black",strokeWidth:c?2:4,opacity:c?.7:1,fill:o}),Object(u.jsx)(ee.Circle,{cy:-n,r:14,fill:"white"}),Object(u.jsx)(ee.Circle,{cy:-n,r:14,fill:o,stroke:"black",strokeWidth:c?2:4,opacity:c?.7:1})]})]})};function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case n.Red:return t?"#ff8080":"#bf202f";case n.Green:return t?"#29b376":"#006f3c";case n.Blue:return t?"#8080ff":"#274b96";case n.Yellow:return t?"#ffff80":"#faa73e"}}var he,xe=function(e){var t=e.data;return Object(u.jsx)(u.Fragment,{children:t.map((function(e,t){var r=e.x,n=e.y;return Object(u.jsx)(se,{x:r,y:n},t)}))})};function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me={x:-40,y:410},ke=re({x:175,y:175},"\u2198L\u2197D",650,!1),Pe=re(me,"RRRRRUUUURRDDDDRRRRDDLLLLDDDDLLUUUULLLLU",90),we=[re({x:130,y:130},"RDLU",90,!1),re({x:780,y:780},"RDLU",90,!1),re({x:780,y:130},"RDLU",90,!1),re({x:130,y:780},"RDLU",90,!1)],Re=[39,19,9,29],De=[re(Pe[39],"RRRR",90),re(Pe[19],"LLLL",90),re(Pe[9],"DDDD",90),re(Pe[29],"UUUU",90)],Ae=(he={},C()(he,o.LAP,Pe),C()(he,o.START,we),C()(he,o.END,De),he),Se=function(e){var t=e.die,r=e.dieError,n=e.onDiePress,i=e.tokens,a=e.onTokenPress,s=e.players,l=e.currentPlayer,d=Object(K.a)(),f=d.width,b=d.height,j=Math.min(f,b),y=Object(Q.c)();return Object(u.jsx)(v.a,{safeArea:!0,alignItems:"center",children:Object(u.jsx)(L.a,{w:j,h:j,children:Object(u.jsxs)(te.a,{height:"100%",width:"100%",viewBox:"0 0 1000 1000",preserveAspectRatio:"xMinYMin slice",children:[Object(u.jsx)(ee.Rect,{width:"1000",height:"1000",fill:"#f5d9a1"}),Object(u.jsx)(ee.Rect,{x:"10",y:"10",width:"980",height:"980",strokeWidth:"3",stroke:"black",fill:"transparent"}),Object(u.jsx)(ee.Rect,{width:"1000",height:"1000",strokeWidth:"10",stroke:"#bb3630",fill:"transparent"}),s.map((function(e,t){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(ee.G,ge(ge({},ke[t]),{},{children:Object(u.jsx)(ee.Rect,{width:175,height:175,x:-87.5,y:-87.5,fill:e.id===l?"yellow":"transparent",stroke:"#333",strokeWidth:e.id===l?4:0,rx:"30"})})),Object(u.jsx)(fe,{data:[Ae.lap[Re[t]],Ae.end[t][0]]}),Object(u.jsx)(xe,{data:Ae.start[t]}),Object(u.jsx)(be,{data:Ae.end[t]})]},t)})),Object(u.jsx)(le,{data:Ae.lap}),Object(u.jsx)(ae,{x:500,y:500,size:100,value:t,disabled:!!r,onPress:function(){r?y.show({title:r}):n()}}),i.map((function(e){var t=e.id,r=e.sector,n=e.fieldId,i=e.playerId,c=e.color,s=e.error,l=r===o.LAP?Ae[r][n]:Ae[r][+i][n];return Object(u.jsx)(pe,{x:l.x,y:l.y,color:Oe(c),size:30,disabled:!!s,onPress:function(){s?y.show({title:s}):a(t)}},t)}))]})})})},Te=2,Le=4,Ee=12,Ie=[0,6],Ce=9;function Be(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case n.Red:return t?"#ff8080":"#bf202f";case n.Green:return t?"#29b376":"#006f3c";case n.Blue:return t?"#8080ff":"#274b96";case n.Yellow:return t?"#ffff80":"#faa73e"}}var Ye,ze=function(e){return Object(u.jsxs)(ee.G,{children:[Object(u.jsx)(ee.Rect,{x:e.x-e.width/2,y:e.y,width:e.width,height:e.height,stroke:"black",strokeWidth:"2",fill:e.color}),Object(u.jsx)(ee.Text,{x:e.x,y:e.y+40,textAnchor:"middle",stroke:"black",fill:"black",fontSize:"40",children:e.title})]})},We=function(e){for(var t=F()(Array(Te).keys()),r=y()(t,2),n=r[0],i=r[1],c=[{posX:260,color:Be(e.players[n].color)},{posX:740,color:Be(e.players[i].color)}],a={start:[[{x:95,y:150,color:"white"},{x:205,y:150,color:"white"},{x:315,y:150,color:"white"},{x:425,y:150,color:"white"}],[{x:575,y:150,color:"white"},{x:685,y:150,color:"white"},{x:795,y:150,color:"white"},{x:905,y:150,color:"white"}]],end:t.map((function(t){return new Array(Le).fill(null).map((function(){return{x:320,y:400,color:Be(e.players[t].color)}}))})),board:new Array(Ee).fill(null).map((function(){return{x:320,y:400,color:"white"}}))},s=0;s<Le;s++)a.end[n][s].x-=120,a.end[n][s].y+=120*(3-s),a.end[i][s].x+=480,a.end[i][s].y+=120*s;t.map((function(t){a.board[Ie[t]].color=Be(e.players[t].color,!0)}));for(var l=1;l<4;l++)a.board[l].x+=120*l,a.board[l+3].x+=360,a.board[l+3].y+=120*l,a.board[l+6].x+=120*(3-l),a.board[l+6].y+=360,a.board[(l+9)%Ee].y+=120*(3-l);var d=function(e,t){return e.map((function(e,r){return Object(u.jsx)(Ne,{id:t+"-"+r,x:e.x,y:e.y,color:e.color,size:80},r)}))};return Object(u.jsxs)(te.a,{height:"100%",width:"100%",viewBox:"0 0 1000 1000",children:[Object(u.jsx)(ee.Rect,{x:10,y:10,width:980,height:980,stroke:"gray",strokeWidth:20,fill:"white"}),t.map((function(t){return Object(u.jsx)(ze,{x:c[t].posX,y:50,color:c[t].color,width:440,height:160,title:e.players[t].name},t)})),Object(u.jsx)(ee.Rect,{x:320,y:400,width:360,height:360,stroke:"black",strokeWidth:"2",fill:"transparent"}),t.map((function(e){var t=(Ie[e]+Ce)%Ee;return Object(u.jsx)(ee.Line,{x1:a.board[t].x,y1:a.board[t].y,x2:a.end[e][0].x,y2:a.end[e][0].y,stroke:"black",strokeWidth:"2"},e)})),[t.flatMap((function(e){return[d(a[o.START][e],"start-"+e),d(a[o.END][e],"end-"+e)]})),d(a[o.LAP],"fields")],e.tokens.map((function(t){var r=t.id,n=t.sector,i=t.fieldId,c=t.playerId,s=t.color,l=t.disabled,d=n===o.LAP?a[n][i]:a[n][+c][i];return Object(u.jsx)(Ue,{id:"token-"+r,x:d.x,y:d.y,color:Be(s),size:40,disabled:l,onPress:function(){return e.onTokenPress(r)}},r)})),Object(u.jsx)(ee.G,{x:400,y:470,children:Object(u.jsx)(ae,{value:e.die,disabled:e.dieDisabled,onPress:e.onDiePress})})]})},Ne=function(e){return Object(u.jsx)(ee.Circle,{id:e.id,cx:e.x,cy:e.y,r:e.size/2,stroke:"black",strokeWidth:"2",fill:e.color})},Ue=function(e){var t=e.id,r=e.x,n=e.y,o=e.size,i=e.color,c=e.disabled,a=e.onPress;return Object(u.jsx)(ee.Rect,{id:t,x:r-o/2,y:n-o/2,width:o,height:o,stroke:"black",strokeWidth:"2",opacity:c?.5:1,fill:i,onClick:a,onPress:a})};!function(e){e[e.SMALL_BOARD_FOR_TWO=0]="SMALL_BOARD_FOR_TWO",e[e.CLASSIC=1]="CLASSIC"}(Ye||(Ye={}));var Ge=["boardType"];function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe=function(e){var t=e.boardType,r=H()(e,Ge);switch(t){case Ye.SMALL_BOARD_FOR_TWO:return Object(u.jsx)(We,Ve({},r));case Ye.CLASSIC:return Object(u.jsx)(Se,Ve({},r));default:return console.warn("No such board!"),null}};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe=function(e){var t,r=e.G,n=e.ctx,o=e.moves,i=n.playOrder.map((function(e){return{id:e,name:e}})),c=o.move,a=o.roll,s=Ye.CLASSIC,l=r.tokens.map((function(e){return Fe(Fe({},e),{},{error:U(r,n,e.id)})}));return Object(u.jsx)(qe,{boardType:s,players:i,currentPlayer:n.currentPlayer,die:null!=(t=r.die)?t:6,onTokenPress:c,onDiePress:a,dieError:G(r),tokens:l})},Ze=r(268),Je=r(258),$e="web"===r(9).a.OS?Ze.a:Je.a,He=r(24),Ke=r.n(He),Qe=r(23),et=r.n(Qe),tt=r(30),rt=r.n(tt),nt=r(31),ot=r.n(nt),it=r(20),ct=r.n(it);function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ct()(e);if(t){var o=ct()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ot()(this,r)}}var ut=function(e){rt()(r,e);var t=lt(r);function r(e){et()(this,r);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.call.apply(t,[this,st(st({},e),{},{objectives:function(e,t,r){return{finished1:{checker:function(e,t){return 1===e.players[r].finished},weight:10},finished2:{checker:function(e,t){return 2===e.players[r].finished},weight:20},finished3:{checker:function(e,t){return 3===e.players[r].finished},weight:30},kickPlayer:{checker:function(e,t){return null!==e.kicked},weight:1}}},iterations:1,playoutDepth:1})].concat(o))}return Ke()(r)}(r(83).a);function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bt=function(e){var t=e.players,r=e.bot1,n=e.bot2,o=e.bot3,c=e.bot4,a=r||n||o||c,s=Object(i.useMemo)((function(){var e=ft(ft(ft(ft({},r&&{0:ut}),n&&{1:ut}),o&&{2:ut}),c&&{3:ut}),i=a?Object(B.a)({bots:e}):void 0;return $e({game:J,board:Xe,debug:{collapseOnLoad:!0},numPlayers:t,multiplayer:i})}),[t,r,n,o,c]);return Object(u.jsx)(s,{playerID:a?"0":void 0})},jt=function(e){var t=e.navigation,r=e.route.params,n=r.players,o=r.bot1,i=r.bot2,c=r.bot3,a=r.bot4;return Object(u.jsxs)(L.a,{safeArea:!0,bg:"lightBlue.200",flex:1,justifyContent:"center",children:[Object(u.jsx)(bt,{players:n,bot1:o,bot2:i,bot3:c,bot4:a}),Object(u.jsx)(L.a,{safeAreaTop:!0,safeAreaRight:!0,position:"absolute",top:"0",children:Object(u.jsx)(E.a,{color:"black",size:"lg",_icon:{name:"menu"},onPress:function(){return t.navigate("Settings")}})})]})},yt=Object(x.a)(),pt=function(){return Object(u.jsx)(h.a,{children:Object(u.jsxs)(yt.Navigator,{screenOptions:{headerShown:!1},children:[Object(u.jsx)(yt.Screen,{name:"Settings",component:T}),Object(u.jsx)(yt.Screen,{name:"Play",component:jt})]})})};t.a=function(){return Object(u.jsx)(b,{children:Object(u.jsx)(O,{children:Object(u.jsx)(pt,{})})})}},277:function(e,t,r){e.exports=r(329)}},[[277,1,2]]]);
//# sourceMappingURL=app.338e55a3.chunk.js.map